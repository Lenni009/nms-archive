<Pipeline>
  <Setup>
    <PipelineVariable id="Clear" defaultValue="0" />
  </Setup>

  <!-- Scene rendering -->
  <CommandQueue>

    <Stage id="Terrain_TopDown" enabled="true">
      <StartDepthRender />
      <BeginTarget target="" />
      <If conditionType="variable" id="Clear" />
        <ClearTarget depthBuf="true" colBuf0="false" />
      <EndIf/>
      <ColourMask channels="RGBA" colBuf0="false" />

      <SetContext zwrite="true" colourWrite="false" cullMode="back" blendMode="replace" depthTest="less" alphaToCoverage="false"/>
      <!--<DoForwardLightLoop type="Terrain"  class="LOD3"      context="DEPTHONLY_TOP"        order="STATECHANGES" />-->
      <DrawGeometry type="Terrain"      class="LOD0"           context="DEPTHONLY_TOP"             order="" />
      <DrawGeometry type="Terrain"      class="LOD1"           context="DEPTHONLY_TOP"             order="" />
      <DrawGeometry type="Terrain"      class="LOD2"           context="DEPTHONLY_TOP"             order="" />
      <DrawGeometry type="Terrain"      class="LOD3"           context="DEPTHONLY_TOP"             order="" />
      <EndTarget flushCB="false" flushDB="true" />
      <UnbindBuffers />
    </Stage>

  </CommandQueue>

</Pipeline>
